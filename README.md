# R语言学习及实验
## 实验一 
### 1.1 基本数据结构练习要求: 
（1）创建数值从1到10，间隔为2，名称为A的向量 
（2）将数字1到12每个重复3次写入向量B中：(1,1,1，…,12,12,12) 提示rep函数 
（3）输出B向量的长度和去重后的向量数值 
（4）输出A、B的交集，并集C ，差集 
（5）将集合C按降序排序 
（6）选取C的第3个元素；第4到最后的元素；数值在区间大于等于3小于7的元素 
（7）将数值型向量C转化为字符型 
（8）向量C的长度，最大值及其索引 
（9）将A转化成数组类型变量名为a,查看a的类型 
（10）用1~20的数字构成两个4*5的矩阵，其中M1为按列输入，M2为按行输入， 计算M3为M1+M2；并构建M4，它由M3各列构成，但不包含第3列
（11）用1~9的数字构成一个3*3的按列输入的矩阵M5；求M5的对角阵M6；
（12）计算M5与 M6的矩阵乘法得到M7；求M7的转置矩阵M8 （12）用1~12的数字构成一个4*3的按列输入的矩阵M9，求M9的列加和；求M9的行平均
### 1.2 数据的导入和处理对象常用函数练习要求： 
（1）从csv文件中读取algae数据集赋值给algae1 
（2）查看algae1的前10条数据 
（3）输出algae1的基本统计信息，数据的维度，特征名称，查看season、size和NO3各列的数据类型 
（4）选出季节为夏天的样本存在newalgael，输出newalgael样本行数 
（5）将newalgael的列cl中的缺失值用本列得中位数填充 
（6）将algae1删除含有缺失值的样本，输出原始样本的行数和剩余样本行数 
（7）编辑algae1并另存为algae2（任意修改某个点的值）
（8）将algae1和algae2，按行合并得到algae3，输出algae1、algae2 和algae3的样本行数

## 实验二
### 2.1 练习要求: 
（1） 将item_feature1.csv读入，存储到df中；并给df的列分别命名为：date、item_id、cate_id、cate_level_id、brand_id、supplier_id、pv_ipv、cart_uv、collect_uv和cart_ipv。注：【日期、商品id、仓库id、仓库级别id、品牌id、供应商id、浏览次数、加购人次、收藏人次和被加购次数】
（2）为df中的cart_uv 重新编码并将新变量命名为recode，将小于5000的归为less,将 大于等于5000小于15000的归为common,其他的归为many；查看尾部的10条数 据。 
（3）查看df中是否有缺失值；如有缺失值，删除df中所有含缺失值的行。
（4）将df中的date字段转换成日期类型，如：2015-02-13。 
（5）将df按照date字段升序排列，另存为df_asc；并查看前10条数据。
（6）将df按照date字段升序和item_id降序排序，另存在df1中；并查看前5条数据
### 2.2练习要求: 
（1）从df中选取date、item_id、cate_id、cart_uv、recode、collect_uv和cart_ipv字段另存为df1；剔除df1中的cart_ipv字段另存为df2；从df1中选取item_id 大于500的 并且recode为less的数据另存为df3。
（2）从df中选取date为2015-02-14，item_id为300，并保留date到supplier_id其间的所 有列，另存为df_sub。 
（3）从df中无放回的随机抽取500条样本，另存为df4；查看样本的维度和数据的头部数据。
（4）从df1中选取列从item_id到cate_id的数据，另存为df1_temp,然后与df按照item_id合 并存为df5。
（5）从df1中利用sql的方法选取item_id为300的数据，另存为df6中。【注：sqldf包】
（6）从df2中有放回的随机取出与df6一样多的数据条数做为df_tem，然后与df6按列（横向） 合并，另存为df7。 
（7）从df中选取date 、 item_id 、 cate_id 和cart_ipv 另存为feature，并将feature 按日 期升序排列，取出feature 中唯一的cate_id 【去重即可】。

## 实验三
### 3.1练习要求: 
（1）通过读取文件death rate.csv获取数据保存到df中，简单分析数据，获取共 有数据多少条，是否有缺失值或是异常值,若存在这样的数据，将这些数据剔 除;对于死亡率来说，它的值域是0<q<=1。【注：1-6题中的死亡率，只考虑男性的死亡率】
（2）绘制散点图，分别展示年龄、年份与男性的死亡率（对数即取log）的关系。
（3）绘制年龄与对数生存人数的散点图，分析这2个量的关系。
（4）绘制直方图来观察一下男性死亡人数的分布。
（5）绘制男性的对数死亡人数即（Male_death 的对数）的直方图，来观察男 性的对数死亡人口数的分布情况。
（6）计算df的各变量的相关系数，并画出相关图。【用corrgram包】

### 3.2练习要求:
（1） 通过读取文件House-handle.csv获取数据保存到houseIndex中。
（2）数据探索，绘制一张图表来展示1990到2011年的HPI的变化情况，横轴是时间 （可以是数据的第一列），纵轴是HPI值。
（3）绘制一张图，展示每个月的HPI的增长量，表示为delta,在0的位置添加参考线。【注：增长量，可以用下一条减上一条来计算；第一条的上一条的HPI值可以认为 是1】
（4）为了进一步了解HPI的波动，计算其每个月的增长率。绘图时，增长率为正数的 月份由加号（“+”）表示，为负的用（“o”）表示。
（5）对HPI增长率建立表格，其中每一行代表一个月份，每一列代表一个年份，显示 前四年的数据（ HPI增长率舍入到小数点后4位）；并绘制一个HPI的平均年增长率 和HPI的平均月增长率（全部年份的年增长率（列平均）和月增长率（行平均））。
（6）绘制一个箱线图，来查看HPI的增长率的分布情况。

## 实验四
### 4.1 题目一要求
（1）通过读取“hospital-data.csv”将数据保存到df中，获取该数据的条数；查看 数据中的前5条数据。
（2）查看数据概况；求得邮编的范围。
（3）我们默认电话号码是个数值，没有实际意义；应用sapply函数，通过调用用户 自定义函数，返回电话号码的最大值，最小值，均值，中位数，标准差和方差。
（4）利用aggregate求取各州的电话号码的中位数。
（5）利用by求取各城市的电话号码的最大值和最小值；显示结果的前3条数据。 
（6）对所属州生成简单的频数统计表；并将这个频数表转化为比例值。
（7）建立所属州和医院类型的二维列联表，命名为mycontable；按列生成边际和。
（8）利用CrossTable建立所属乡镇和是否提供急救服务字段的二维列联表，命名为 mycrosstable。（注：安装gmodels包)
### 4.2 题目二要求
（1）通过读取文件death rate.csv获取数据保存到death中, 通过卡方检验来检 验年龄与男性生存人口数（二级列联表）之间是否独立。
（2）通过assocstats函数来度量年龄与男性的死亡率（二级列联表）之间的相 关性。
（3）计算年龄与男性的死亡率之间的Pearson和Spearman相关系数;和death中 所有变量的协方差。 
（4）检验女性生存人口数和男性生存人口数之间的相关性的显著性

## 实验五
### 5.1 题目一要求
数据处理【只用SY-20150401.csv】统计每5分钟，各站点的进出站流量（说明：00:00:01在第一个5分钟内，00:10:13在第三个5分 钟内），由于一天可能多次乘坐地铁，根据卡号和进站时间，查询最近出站的时间，作为本次出 站时间。参考函数lubridate::hms，lubridate:: period_to_seconds。 、
处理的最终结果：dataframe(名称trade.metro.in.out)
### 5.2 题目二要求
通过题目1中的dataframe（trade.metro.in.out）进行统计，统计进 站与出站之间的流量；然后选取流量最大的前10个站点，在Notebook中查看前6条。
